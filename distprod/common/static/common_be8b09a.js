define("components/common/common",["lib/zepto/zepto.1.2.0.min","dialog"],function(require,exports,module){"use strict";function a(a){if(a=a.toLowerCase(),null==a.match(/^[-+]?\d*$/)){for(var s=a.split(""),c="",i=0;i<s.length;i++)s[i]=s[i].charCodeAt(),s[i]=s[i].toString(16),c+=s[i];return c+"{1"}return a=parseInt(a).toString(16),a+"{0"}function c(n){for(var a="",i=0;n>i;i++)a+=Math.floor(10*Math.random());return a}function g(g){var h="";h+=c(3);var v=a(g).split("{"),y=v[0].length;if(y=y.toString(16),1==y.length)y="0"+y;else if(y.length>2)return"";if(h+=y,"0"==v[1]?h+=0:"1"==v[1]&&(h+=1),h+=v[0],h.length<20){var w=c(20-h.length);h+=w}return h}function h(a){var c=a.substring(3,5),g=parseInt(c,16),h=parseInt(a.substring(5,6)),v=a.substring(6,6+g);if(0==h){var y=parseInt(v,16);return y}for(var w=[],C=v.split(""),i=0;i<C.length;i+=2){var n=parseInt(C[i]+C[i+1],16);w.push(String.fromCharCode(n))}return w.join("")}function v(a){a+="";for(var c=String.fromCharCode(a.charCodeAt(0)+a.length),i=1;i<a.length;i++)c+=String.fromCharCode(a.charCodeAt(i)+a.charCodeAt(i-1));return escape(c)}function y(a){a=unescape(a);for(var c=String.fromCharCode(a.charCodeAt(0)-a.length),i=1;i<a.length;i++)c+=String.fromCharCode(a.charCodeAt(i)-c.charCodeAt(i-1));return c}function w(n){var a="",c=[];c=Z.split("");for(var i=0;n>i;i++){var g=Math.ceil(Math.random()*(Z.length-1));a+=ee+c[g]}return a}function C(a){if(a=a.toLowerCase(),null==a.match(/^[-+]?\d*$/)){for(var s=a.split(""),c="",i=0;i<s.length;i++)s[i]=s[i].charCodeAt(),s[i]=s[i].toString(16),c=c+ee+s[i];return c+"{1"}return a=parseInt(a).toString(16),a+"{0"}function S(a){var c="";c+=w(2);var g=C(a).split("{"),h=g[0].length;if(h=h.toString(16),1==h.length)h="0"+h;else if(h.length>2)return"";if(c+=h,"0"==g[1]?c+=0:"1"==g[1]&&(c+=1),c+=g[0],c.length<20){var v=w(20-c.length);c+=v}return c}function I(a){var c=a.substring(6,8),g=parseInt(c,16),h=parseInt(a.substring(8,9)),v=a.substring(9,9+g);if(0==h){var y=parseInt(v,16);return y}for(var w=[],C=v.split(ee),i=1;i<C.length;i++){var n=parseInt(C[i],16);w.push(String.fromCharCode(n))}return w.join("")}function b(a,c,g){var h=new Date;h.setDate(h.getDate()+g),Q.cookie=a+"="+decodeURI(c)+(null==g?"":";expires="+h.toGMTString())}function k(a){var c=Q.cookie.indexOf(a+"=");if(-1==c)return"";c=c+a.length+1;var g=Q.cookie.indexOf(";",c);return-1==g&&(g=Q.cookie.length),decodeURIComponent(Q.cookie.substring(c,g))}function M(a,c){var g=arguments.length<=2||void 0===arguments[2]?"url":arguments[2],h=arguments.length<=3||void 0===arguments[3]?"":arguments[3];switch(g){case"url":return"&"+encodeURIComponent(a)+"="+encodeURIComponent(c);case"local":window.localStorage&&localStorage.setItem(X.prefix+a,c);break;case"session":window.sessionStorage&&sessionStorage.setItem(X.prefix+a,c);break;case"cookie":b(X.prefix+a,c,h)}}function R(a){var c=arguments.length<=1||void 0===arguments[1]?"url":arguments[1];switch(c){case"url":return U(a);case"local":return localStorage.getItem(X.prefix+a);case"session":return sessionStorage.getItem(X.prefix+a);case"cookie":return k(X.prefix+a)}}function D(a,c){var c=c||"all";if(!a)return localStorage.clear(),void sessionStorage.clear();switch(c){case"all":localStorage.removeItem(X.prefix+a),sessionStorage.removeItem(X.prefix+a),b(X.prefix+a,"",-1);break;case"local":localStorage.removeItem(X.prefix+a);break;case"session":sessionStorage.removeItem(X.prefix+a);break;case"cookie":b(X.prefix+a,"",-1)}}function A(){var a=window.location.search,c=a.substr(1,a.length-1).split("&"),g={};if(null!==c)for(var i=0,l=c.length;l>i;i++){var h=c[i].split("=");h&&h.length>1&&(g[decodeURIComponent(h[0])]=decodeURIComponent(h[1]))}return g}function U(a){var c=A();return c[a]?c[a]:null}function j(a){var t;return null==a?t=String(a):(t=Object.prototype.toString.call(a).toLowerCase(),t=t.substring(8,t.length-1)),t}function E(a,c,g){if(J[a]){var h=J[a];if(c){h+="?";var v=j(c);switch(v){case"string":h+=encodeURIComponent(c);break;case"object":for(var y in c)h+="&"+encodeURIComponent(y)+"="+encodeURIComponent(c[y])}h=h+"&"+F()}return window.location.href=g?g+h:h,!1}return g?(window.location.href=g+a,!1):void 0}function H(a,c){var g=c||{},h=g[a];return h?{url:X.port+h.url,data:function(){var a=h.param,c={};if(a){a=a.split(Y);for(var g=a.length,v=Array.prototype.pop;a[g-1];){var y=a[g-1],w=v.apply(arguments);c[y]="undefined"==w?"":w,g--}}return c},type:h.type||"get",async:h.async||!0}:!1}function T(a){var c=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];c&&oe.show();$.Deferred();return $.ajax({type:a.type||"post",url:a.url,data:a.data,async:a.async||!0}).done(function(a){return 601==a.code?(window.localStorage.clear(),window.sessionStorage.clear(),window.location.reload(),!1):void 0}).fail(function(a){a.msg&&K.tipDialog(a.msg)}).always(function(g){c&&oe.hide(),a.complete&&a.complete(g)})}function L(a){var c={};return $.each(a,function(g){c[g]=function(){var c=H(g,a);return a[g].fn?a[g].fn.call(this,c.url,c.data.apply(this,arguments)):T({url:c.url,data:c.data.apply(this,arguments),type:c.type,async:c.async})}}),c}function _(a,c,g){for(var l=a.length,i=0,h=0,v=function(){var v=new Image;v.src=a[l-1];var y=function(l){return function(){i+=1,h+=1,c&&c.call(this,h,v,a[l-1],l)}}(l);v.complete?y():(v.onload=y,v.onerror=function(l){return function(){h+=1,g&&g.call(this,h,i,a[l-1],l)}}(l)),l--};l;)v()}function z(a,c,g){var c=c||3,g=g||",",h=new RegExp("(\\d)(?=(?:\\d{"+c+"})+$)","g");return a=(a+"").replace(h,"$1"+g)}function N(a,c,g){var c=c||3,g=g||"0",l=(a+"").length,h=new Array(c-0+1).join(g);return l>=c?(a+"").substr(l-c):h.substr(0,c-l)+a}function O(a,c){var c=c||",",g=new RegExp(c,"g");return(a+"").replace(g,"")}function P(a,c,g,h,v){for(var y,w=[],i=0,l=a.length;l>i;i++)a[i][g]==h&&(w.push(a[i]),y=P(a,c,g,a[i][c],v),a[i].children=y.length>0?y:[],v&&v.call(this,a[i]));return w}function V(a){return JSON.parse(a)}function F(){var a=Date.parse(new Date);return a}function W(a){var c=Q.body.clientHeight,g=B.innerHeight,h="#"+a+" >.main-wrap",v=Q.querySelector("#"+a),y=Q.querySelector(h),w=void 0,C=Q.body.scrollTop;v.style.display="block",w=y.clientHeight,g>=w?y.style.top=C+(g-w)/2+"px":w>g&&g>=c?(y.style.height=g-40+"px",y.style.top="20px"):w>g&&c-C>w?y.style.top=C+Math.min((c-C-w)/2,20)+"px":w>g&&w>=c-C&&(y.style.height=c-C-40+"px",y.style.top=C+Math.min((g-c+C+40)/2,20)+"px")}function G(a){var c=/style=\"[^\"]*\"/gm;return a.replace(c," ")}require("lib/zepto/zepto.1.2.0.min");var J={"index":"index.html","debug":"debug.html","loading":"loading.html","noscan":"noscan.html","wxLogin":"wxLogin.html"},K=require("dialog"),Y=/[, ]+/g,B=window,Q=document;window.th={callPage:"/anhui/common/loading.html",hosturl:location.origin||location.protocol+"//"+location.hostname,status:"on",shareTitle:"【情满黄山·礼迎双节】",shareDesc:"9月22日-10月7日，参与黄山双节活动，赢取华为P20、iPad、京东E卡等节日好礼",shareUrl:"/anhui/anhui-kuaishan/kuaishan.html",shareImg:"/anhui/anhui-kuaishan/share.jpg"};var X={port:"/",prefix:window.localStorage.getItem("project")||"__anhui2018__"};window.msgError={1001:"[1001]网络错误,请稍后再试...."};var Z="diogoxiang20170413",ee="0x",te={Encrypt:g,unEncrypt:h,Compile:v,unCompile:y,nEncrypt:S,uNencrypt:I},oe=function(){var a=0,c=void 0,g="<div class='ui-loading-bg'></div>\n                <div class='ui-loading-box'>\n                    <div class='ui-loading'>\n                        <div class='ui-loading-icon ui-loading-icon-0'></div>\n                        <div class='ui-loading-icon ui-loading-icon-1'></div>\n                        <div class='ui-loading-icon ui-loading-icon-2'></div>\n                        <div class='ui-loading-icon ui-loading-icon-3'></div>\n                        <div class='ui-loading-icon ui-loading-icon-4'></div>\n                        <div class='ui-loading-icon ui-loading-icon-5'></div>\n                        <div class='ui-loading-icon ui-loading-icon-6'></div>\n                        <div class='ui-loading-icon ui-loading-icon-7'></div>\n                        <div class='ui-loading-icon ui-loading-icon-8'></div>\n                        <div class='ui-loading-icon ui-loading-icon-9'></div>\n                        <div class='ui-loading-icon ui-loading-icon-10'></div>\n                        <div class='ui-loading-icon ui-loading-icon-11'></div>\n                    </div>\n                    <p class='ui-loading-p'>数据加载中</p>\n            </div>",h={show:function(){1>a&&(c||(c=Q.createElement("div"),c.className="ui-loading-wrap",c.innerHTML=g),Q.body.appendChild(c)),a++},hide:function(){1>=a&&c&&Q.body.removeChild(c),a--}};return{show:function(){var a=arguments.length<=0||void 0===arguments[0]?"content":arguments[0];"content"==a&&h.show()},hide:function(){var a=arguments.length<=0||void 0===arguments[0]?"content":arguments[0];"content"==a&&h.hide()}}}(),ie={division:z,intercept:N,digita:O};Date.prototype.format=function(a){var c=["星期天","星期一","星期二","星期三","星期四","星期五","星期六"],g={"y+":this.getFullYear(),"M+":this.getMonth()+1,"d+":this.getDate(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),w:this.getDay(),W:c[this.getDay()]},a=a||"yyyy-MM-dd HH:mm:ss";for(var i in g){var h=new RegExp("("+i+")","g");a=a.replace(h,function(){return N(g[i],"w"==i||"W"==i?g[i].length:arguments[1].length)})}return a},module.exports={URL:J,host:X,storeValue:M,getValue:R,deleteValue:D,useApi:H,linkTo:E,moduleFactory:L,num:ie,creatTree:P,loadImage:_,strTojson:V,Loading:oe,getTimestamp:F,setMainHeight:W,replaceStyle:G,d:te}});